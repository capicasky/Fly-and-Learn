<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fly and Learn</title>

<style>
body {
  font-family: Arial, sans-serif;
  background-color: #A7C7E7;
  text-align: center;
  padding: 40px 15px;
  color: #2c3e50;
}
h1 {
  font-size: 48px;
  color: #1b4f72;
}
.plane {
  display: inline-block;
  animation: float 2.5s ease-in-out infinite;
}
@keyframes float {
  0% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0); }
}
.metar-box {
  max-width: 420px;
  margin: 30px auto;
}
input {
  width: 100%;
  padding: 12px;
  font-size: 18px;
  text-transform: uppercase;
  margin-bottom: 10px;
}
button {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  background: #2e7d32;
  color: white;
  border: none;
  border-radius: 6px;
}
.result-box {
  margin-top: 15px;
  background: #fff;
  padding: 12px;
  border-radius: 6px;
  text-align: left;
  font-family: monospace;
  white-space: pre-wrap;
}
</style>
</head>

<body>

<h1>Fly and Learn <span class="plane">✈️</span></h1>
<p>Aviation made simple.</p>
<p><strong>Capi Casky</strong></p>

<div class="metar-box">
  <input id="icao" placeholder="Enter ICAO (e.g. MRPV)">
  <button onclick="getWeather()">Get Weather</button>

  <h3>METAR</h3>
  <div id="metar-result" class="result-box">Waiting...</div>

  <h3>TAF</h3>
  <div id="taf-result" class="result-box">Waiting...</div>

  <h3>NOTAMs</h3>
  <div id="notam-result" class="result-box">Waiting...</div>
</div>

<script>
function getWeather() {
  const icao = document.getElementById("icao").value.trim().toUpperCase();
  const metar = document.getElementById("metar-result");
  const taf = document.getElementById("taf-result");
  const notam = document.getElementById("notam-result");

  if (icao.length !== 4) {
    metar.textContent = "Invalid ICAO";
    taf.textContent = "-";
    notam.textContent = "-";
    return;
  }

  metar.textContent = "Loading METAR...";
  taf.textContent = "Loading TAF...";
  notam.textContent = "Loading NOTAMs...";

  fetch("https://api.allorigins.win/raw?url=" +
    encodeURIComponent("https://aviationweather.gov/api/data/metar?ids=" + icao + "&format=raw"))
    .then(r => r.text())
    .then(d => metar.textContent = d || "No METAR");

  fetch("https://api.allorigins.win/raw?url=" +
    encodeURIComponent("https://aviationweather.gov/api/data/taf?ids=" + icao + "&format=raw"))
    .then(r => r.text())
    .then(d => taf.textContent = d || "No TAF");

  fetch("https://api.allorigins.win/raw?url=" +
    encodeURIComponent("https://aviationweather.gov/api/data/notam?ids=" + icao))
    .then(r => r.text())
    .then(d => notam.textContent = d || "No NOTAMs");
}
</script>

</body>
</html>
